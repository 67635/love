<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>...</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: #ffebee;
            position: relative;
            opacity: 0;
            animation: fadeInPage 1s forwards;
        }

        @keyframes fadeInPage {
            to {
                opacity: 1;
            }
        }

        .gif-container img {
            width: 100%;
            max-width: 300px;
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 1s, transform 1s;
            will-change: transform, opacity;
        }

        .fade-out {
            transform: scale(0);
            opacity: 0;
        }

        .text {
            font-size: 24px;
            margin: 20px 0;
            color: #d32f2f;
            transition: margin-top 0.3s ease;
        }

        .valentine-text {
            font-size: 28px;
            margin: 10px 0;
            color: #d32f2f;
            font-weight: bold;
        }

        .buttons {
            display: flex;
            gap: 20px;
            position: relative;
            z-index: 100;
        }

        .buttons button {
            padding: 10px 20px;
            font-size: 18px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        #yesButton {
            background-color: #4caf50;
            color: white;
        }

        #noButton {
            background-color: #f44336;
            color: white;
        }
    </style>
</head>
<body>
    <div class="valentine-text" id="valentineText">–≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–∞ –¥–ª—è –ª—é–±–∏–º–∫–∏</div>
    <div class="gif-container">
        <img src="love.gif" alt="Initial GIF" id="gif" class="fade-in">
    </div>
    <div class="text" id="text">—Ç—ã –±—É–¥–µ—à—å –º–æ–µ–π —Å–∏–≥–º–∞ –≤—É–º–∞–Ω?ü•∞</div>
    <div class="buttons">
        <button id="yesButton">–î–∞</button>
        <button id="noButton">–ù–µ—Ç</button>
    </div>

    <script>
        const yesButton = document.getElementById('yesButton');
        const noButton = document.getElementById('noButton');
        const text = document.getElementById('text');
        const gif = document.getElementById('gif');

        let yesScale = 1;
        let noScale = 1;

        function animateGif(newGif) {
            newGif.style.opacity = 0;
            newGif.style.transform = 'translateY(30px)';
            newGif.style.transition = 'opacity 1s, transform 1s';
            requestAnimationFrame(() => {
                newGif.style.opacity = 1;
                newGif.style.transform = 'translateY(0)';
            });
        }

        function animateButtons() {
            requestAnimationFrame(() => {
                yesButton.style.opacity = 1;
                noButton.style.opacity = 1;
            });
        }

        yesButton.style.opacity = 0;
        noButton.style.opacity = 0;
        animateButtons();

        requestAnimationFrame(() => {
            gif.style.opacity = 1;
            gif.style.transform = 'translateY(0)';
        });

        noButton.addEventListener('click', function onNoClick() {
            yesScale += 1;
            yesButton.style.transform = `scale(${yesScale})`;

            noScale -= 0.1;
            noButton.style.transform = `scale(${noScale})`;

            if (noScale <= 0.1) {
                noButton.style.display = 'none';
            }

            if (yesScale > 1.5) {
                text.textContent = '—ç—ç—ç—ç—ç–π';
                gif.src = 'angry.gif';
                animateGif(gif);
                 // –ü–µ—Ä–µ–º–µ—â–∞–µ–º –∫–Ω–æ–ø–∫—É "–Ω–µ—Ç" –≤–ø—Ä–∞–≤–æ
                const currentPosition = parseInt(window.getComputedStyle(noButton).left, 10) || 0; // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–µ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ
                noButton.style.position = 'relative'; // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç
                noButton.style.left = `${currentPosition + 20}px`; // –°–¥–≤–∏–≥–∞–µ–º –∫–Ω–æ–ø–∫—É –Ω–∞ 10px –≤–ø—Ä–∞–≤–æ
            }
            if (yesScale > 2.4) {
                gif.src = 'angry1.gif';
                animateGif(gif);
                 // –ü–µ—Ä–µ–º–µ—â–∞–µ–º –∫–Ω–æ–ø–∫—É "–Ω–µ—Ç" –≤–ø—Ä–∞–≤–æ
                const currentPosition = parseInt(window.getComputedStyle(noButton).left, 10) || 0; // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–µ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ
                noButton.style.position = 'relative'; // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç
                noButton.style.left = `${currentPosition + 40}px`; // –°–¥–≤–∏–≥–∞–µ–º –∫–Ω–æ–ø–∫—É –Ω–∞ 10px –≤–ø—Ä–∞–≤–æ
            }
            if (yesScale > 3.4) {
                text.textContent = '';
                gif.src = 'angry2.gif';
                animateGif(gif);
                 // –ü–µ—Ä–µ–º–µ—â–∞–µ–º –∫–Ω–æ–ø–∫—É "–Ω–µ—Ç" –≤–ø—Ä–∞–≤–æ
                const currentPosition = parseInt(window.getComputedStyle(noButton).left, 10) || 0; // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–µ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ
                noButton.style.position = 'relative'; // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç
                noButton.style.left = `${currentPosition + 50}px`; // –°–¥–≤–∏–≥–∞–µ–º –∫–Ω–æ–ø–∫—É –Ω–∞ 10px –≤–ø—Ä–∞–≤–æ
            }
            if (yesScale > 2) {
                text.textContent = ' ';
            }
            if (yesScale > 4.5) {
                yesButton.style.position = 'fixed';
                yesButton.style.top = '0';
                yesButton.style.left = '0';
                yesButton.style.width = '100%';
                yesButton.style.height = '100%';
                yesButton.style.transform = 'none';
                yesButton.style.borderRadius = '0';
                yesButton.style.fontSize = '24px';
                yesButton.style.zIndex = '1000';
            }
        });

yesButton.addEventListener('click', function onYesClick() {
    text.textContent = '–≤–æ—Ç –∏ –º–æ–ª–æ–¥–µ—Ü)';
    text.style.marginTop = '20px';
    gif.src = 'love1.gif';
    animateGif(gif);
    yesButton.remove();
    noButton.remove();
    yesButton.removeEventListener('click', onYesClick);

    // –ú–∞—Å—Å–∏–≤ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –≥–∏—Ñ–æ–∫
    const gifs = [];
    const maxGifs = 1; // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–∏—Ñ–æ–∫ –Ω–∞ —ç–∫—Ä–∞–Ω–µ
    const minDistance = 100; // –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –≥–∏—Ñ–∫–∞–º–∏
    const speed = 1.5; // –°–∫–æ—Ä–æ—Å—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è –≥–∏—Ñ–æ–∫
    const collisionCooldown = 500; // –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É —Å–º–µ–Ω–∞–º–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π –ø—Ä–∏ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–∏ (–≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö)

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ –∞–Ω–∏–º–∞—Ü–∏–∏ –≥–∏—Ñ–æ–∫
    function createDancingGif() {
        if (gifs.length == maxGifs) return; // –ù–µ —Å–æ–∑–¥–∞–µ–º –±–æ–ª—å—à–µ –≥–∏—Ñ–æ–∫, –µ—Å–ª–∏ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç

        const dancingGif = document.createElement('img');
        dancingGif.src = 'kot1.gif'; // –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≥–∏—Ñ–∫–∞ 'kot1.gif' –¥–æ—Å—Ç—É–ø–Ω–∞
        dancingGif.style.position = 'absolute';
        dancingGif.style.width = '200px'; // –†–∞–∑–º–µ—Ä –≥–∏—Ñ–∫–∏
        dancingGif.style.height = 'auto';

        // –ù–∞—á–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (–≤ –ø—Ä–µ–¥–µ–ª–∞—Ö —ç–∫—Ä–∞–Ω–∞)
        let x, y;
        let isOverlapping;

        do {
            x = Math.random() * (window.innerWidth - dancingGif.width);
            y = Math.random() * (window.innerHeight - dancingGif.height);
            isOverlapping = false;

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç—Å—è –ª–∏ –Ω–æ–≤–∞—è –≥–∏—Ñ–∫–∞ —Å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏
            for (const otherGif of gifs) {
                const dx = x - otherGif.x;
                const dy = y - otherGif.y;
                const distance = Math.sqrt(dx * dx + dy * dy);

                if (distance < minDistance) {
                    isOverlapping = true;
                    break;
                }
            }
        } while (isOverlapping); // –ü–æ–≤—Ç–æ—Ä—è–µ–º, –ø–æ–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–º —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ

        dancingGif.style.left = `${x}px`;
        dancingGif.style.top = `${y}px`;
        document.body.appendChild(dancingGif);

        // –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è (—Å–ª—É—á–∞–π–Ω—ã–µ —É–≥–ª—ã)
        let xDirection = Math.random() > 0.5 ? 1 : -1;
        let yDirection = Math.random() > 0.5 ? 1 : -1;

        // –î–æ–±–∞–≤–ª—è–µ–º –≥–∏—Ñ–∫—É –≤ –º–∞—Å—Å–∏–≤
        const gifObject = {
            element: dancingGif,
            x,
            y,
            xDirection,
            yDirection,
            width: dancingGif.width,
            height: dancingGif.height,
            lastCollisionTime: 0, // –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è
        };
        gifs.push(gifObject);

        // –ê–Ω–∏–º–∞—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏—è –≥–∏—Ñ–∫–∏
        const moveGif = () => {
            gifObject.x += gifObject.xDirection * speed;
            gifObject.y += gifObject.yDirection * speed;

            // –û—Ç—Å–∫–æ–∫ –æ—Ç –∫—Ä–∞–µ–≤ —ç–∫—Ä–∞–Ω–∞
            if (gifObject.x <= 0 || gifObject.x >= window.innerWidth - gifObject.width) {
                gifObject.xDirection *= -1; // –ú–µ–Ω—è–µ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ X
                gifObject.x = Math.max(0, Math.min(gifObject.x, window.innerWidth - gifObject.width)); // –§–∏–∫—Å–∏—Ä—É–µ–º –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö —ç–∫—Ä–∞–Ω–∞
            }
            if (gifObject.y <= 0 || gifObject.y >= window.innerHeight - gifObject.height) {
                gifObject.yDirection *= -1; // –ú–µ–Ω—è–µ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ Y
                gifObject.y = Math.max(0, Math.min(gifObject.y, window.innerHeight - gifObject.height)); // –§–∏–∫—Å–∏—Ä—É–µ–º –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö —ç–∫—Ä–∞–Ω–∞
            }

            dancingGif.style.left = `${gifObject.x}px`;
            dancingGif.style.top = `${gifObject.y}px`;

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π —Å –¥—Ä—É–≥–∏–º–∏ –≥–∏—Ñ–∫–∞–º–∏
            if (Date.now() - gifObject.lastCollisionTime > collisionCooldown) {
                gifs.forEach(otherGif => {
                    if (otherGif !== gifObject && isColliding(gifObject, otherGif)) {
                        // –ú–µ–Ω—è–µ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–∏
                        const tempXDirection = gifObject.xDirection;
                        const tempYDirection = gifObject.yDirection;
                        gifObject.xDirection = otherGif.xDirection;
                        gifObject.yDirection = otherGif.yDirection;
                        otherGif.xDirection = tempXDirection;
                        otherGif.yDirection = tempYDirection;

                        // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è
                        gifObject.lastCollisionTime = Date.now();
                        otherGif.lastCollisionTime = Date.now();
                    }
                });
            }

            requestAnimationFrame(moveGif);
        };

        moveGif();

        // –£–¥–∞–ª–µ–Ω–∏–µ –≥–∏—Ñ–∫–∏ —á–µ—Ä–µ–∑ –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è (–±–µ–∑ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π)// –ì–∏—Ñ–∫–∞ –∏—Å—á–µ–∑–∞–µ—Ç —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥
    }

    function isColliding(gif1, gif2) {
        return !(
            gif1.x + gif1.width < gif2.x ||
            gif1.x > gif2.x + gif2.width ||
            gif1.y + gif1.height < gif2.y ||
            gif1.y > gif2.y + gif2.height
        );
    }

    // –°–æ–∑–¥–∞–µ–º –¥–≤–µ –≥–∏—Ñ–∫–∏
    createDancingGif();
    createDancingGif();
});
        // –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
        const preloadImages = ['love.gif', 'angry.gif', 'angry1.gif', 'angry2.gif', 'love1.gif'];
        preloadImages.forEach(src => {
            const img = new Image();
            img.src = src;
        });
    </script>
</body>
</html>
